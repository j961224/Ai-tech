# Docker

## 1. Docker 소개

### 가상화란?

local환경에서 개발 -> Staging 서버에서 완료 -> Production 서버에서 배포

OS가 다르기 때문에, 라이브러리와 파이썬 등 설치할 때 다르게 진행!

local과 서버가 같은 OS라도, local 환경 변수나 Production 서버의 환경 변수 등으로 서버에서 올바르게 작동하지 않을 수 있다.

=> **그래서, 우선 README 등에 다양한 설정을 기록!** (그러나, 매번 이런 작업을 해야 하니 과정이 귀찮음!)

**위와 같은 상황을 해결을 위해 가상화 등장!!**

### 가상화 - 개념이란?

> * 장점
>> * local(개발)과 Production(운영) 서버의 환경 불일치 해소
>> * 동일한 환경으로 프로그램 실행
>> * Research도 동일한 환경을 사용!

### Docker 등장 전

-> 그 전에는 주로 VM을 사용!!

**VM은 host machine이라고 하는 실제 물리적인 컴퓨터 위에, OS를 포함한 가상화 소프트웨어를 두는 방식!**

* Container

: VM의 무거움을 들어주고, 가상화로 좀 더 경량화된 프로세스의 개념을 만든 기술!!

### Docker 소개

* Docker image

: 컨테이너를 실행할 때, 사용할 수 있는 template!

* Docker Container

: Docker Image를 활용해 실행된 instance

![ddooc](https://user-images.githubusercontent.com/59636424/148943326-67eb29c9-66bf-4494-b26a-3cbf970dae92.PNG)

* Docker로 할 수 있는 일

: **다른 사람이 만든 소프트웨어를 가져와서 바로 실행 가능!!**

ex) Docker image를 활용해 MySQL 등을 Docker로 실행

* **Docker image: 다른 사람이 만든 소프트웨어**

* 원격 저장소에 저장하면, 어디서나 사용 가능! -> 자신만의 이미지를 만들면, 다른 사람에게 공유할 수 있음

## 2. Docker 실습하며 배워보기

* docker pull "이미지 이름:태그"

ex) docker pull mysql:8

* docker images: 내 컴퓨터에 어떤 image가 있는지 확인
* docker run --name mysql-turtorial(컨테이너 이름) -e MYSQL_ROOT_PAWSSWORD=1234(환경변수) -d(데몬 or 백그라운드 모드) -p(포트 지정) 3306:3306 mysql:8

* **데몬 모드란?**

: 컨테이너를 백그라운드 형태로 실행! 

-> 이 설정을 하지 않으면, 현재 실행하는 셀 위에서 컨테이너가 실행 컨테이너 로그 바로 보기 가능!! => 컨테이너를 나가면 실행 종료

* 3306:3306

-> 로컬 호스트 포트:컨테이너 포트(컨테이너 이미지 내부) 형태 -> 로컬 포트 3306으로 접근 시, 컨테이너 포트 3306으로 연결

* **docker ps**

: 실행한 컨테이너를 확인 가능!

* docker 실행하기

